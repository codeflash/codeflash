<div class = "well well-small compact-form">

<%= form_for(resource, :as => resource_name, :url => session_path(resource_name)) do |f| %>
<legend>Sign in</legend>
  <div class="control-group">
    <div class="controls">
      <%= f.text_field :login, :class => 'input-xlarge', :placeholder => 'Email or Username' %>
    </div>
  </div>
  <div class="control-group">
    <div class="controls">
      <%= f.password_field :password, :class => 'input-xlarge', :placeholder => 'Password' %>
    </div>
  </div>

  <% if devise_mapping.rememberable? -%>
  <div class="control-group">
    <div class="controls">
      <label class="checkbox">
        <%= f.check_box :remember_me %> <%= f.label :remember_me  %>
      </label>
  <% end -%>
  <div><%= f.submit "Sign in", :class=> 'btn btn-primary' %></div></br>
<% end %>
</div>

<%- if devise_mapping.recoverable? && controller_name != 'passwords' %>
  <%= link_to "Forgot your password?", new_password_path(resource_name) %><br />
<% end -%>

<%# These close divs are here to close some random divs that wouldn't close. %>
<%# This is a terrible hack which should be fixed as soon as possible. %>
</div>
</div>
