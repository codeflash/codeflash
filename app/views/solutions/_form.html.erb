<%= simple_form_for([problem, solution]) do |f| %>
  <%= f.select :language_id, @languages.map{ |l| [l.name, l.id, {"data-syntax" => l.syntax_highlighting}, l.id]},{},
     {"data-placeholder" => "Choose a Language...",
      class: "input-xlarge chzn-select" }%>
  <%= f.input :code,
    input_html: { class: 'input-block-level'} %>
  <div id='editor'></div>
  <%= f.button :submit, class: 'btn btn-primary' %>
  <%= link_to 'Back', back_path, :class => 'btn' %>
  <script>
      var editor = ace.edit("editor");
      var textarea = $('textarea[id="solution_code"]').hide()
      editor.getSession().setValue(textarea.val());
      editor.getSession().on('change', function(){
          textarea.val(editor.getSession().getValue());
      });
      editor.setTheme("ace/theme/monokai");
  </script>
<% end %>